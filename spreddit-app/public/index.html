<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Spreddit</title>
  <meta name="description" content="A Blockchain-based Reddit clone using Stellar Soroban">
  <meta name="author" content="Synced">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <!--
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  -->

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <!--
    manifest.json provides metadata used when your web app is installed on a
    user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
  -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />


</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div id="root"></div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

<!-- 
<script src="js/soroban-client.js"></script>
<script>
    console.log(SorobanClient);

    /**
    // The source account is the account we will be signing and sending from.
    const sourceSecretKey = 'SCZANGBA5YHTNYVVV4C3U252E2B6P6F5T3U6MM63WBSBZATAQI3EBTQ4';

    // Derive Keypair object and public key (that starts with a G) from the secret
    const sourceKeypair = SorobanClient.Keypair.fromSecret(sourceSecretKey);
    const sourcePublicKey = sourceKeypair.publicKey();

    const receiverPublicKey = 'GAIRISXKPLOWZBMFRPU5XRGUUX3VMA3ZEWKBM5MSNRU3CHV6P4PYZ74D';
    const contractId = '0000000000000000000000000000000000000000000000000000000000000001';
    **/

    var server = new SorobanClient.Server('http://localhost:8000/soroban/rpc',{allowHttp: true});
    //var server = new SorobanClient.Server('https://futurenet.sorobandev.com/soroban/rpc',{allowHttp: true});
    // get the sequence number for an account
    server.getAccount(
      'GBJJT7N2GCV6WDOONXYXOQXCN54BZMSAOOP4H2CUJGWY7ATETIU4NNQX'
    ).then(function(r){ console.log(r); });

    /**
    (async function main() {
      // Transactions require a valid sequence number that is specific to this account.
      // We can fetch the current sequence number for the source account from Horizon.
      const account = await server.loadAccount(sourcePublicKey);

      // Right now, this is just the default fee for this example.
      const fee = 100;

      const contract = new SorobanClient.Contract(contractId);

      const transaction = new SorobanClient.TransactionBuilder(account, {
          fee,
          // Uncomment the following line to build transactions for the live network. Be
          // sure to also change the soroban-rpc hostname.
          // networkPassphrase: SorobanClient.Networks.PUBLIC,
          networkPassphrase: SorobanClient.Networks.TESTNET
        })
        // Add a contract.increment soroban contract invocation operation
        .addOperation(contract.call("increment"))
        // Make this transaction valid for the next 30 seconds only
        .setTimeout(30)
        // Uncomment to add a memo (https://developers.stellar.org/docs/glossary/transactions/)
        // .addMemo(SorobanClient.Memo.text('Hello world!'))
        .build();

      // Sign this transaction with the secret key
      // NOTE: signing is transaction is network specific. Test network transactions
      // won't work in the public network. To switch networks, use the Network object
      // as explained above (look for SorobanClient.Network).
      transaction.sign(sourceKeypair);

      // Let's see the XDR (encoded in base64) of the transaction we just built
      console.log(transaction.toEnvelope().toXDR('base64'));

      // Submit the transaction to the Soroban-RPC server. The Soroban-RPC server
      // will then submit the transaction into the network for us. Then we will have
      // to wait, polling getTransactionStatus until the transaction completes.
      try {
        let response = await server.sendTransaction(transaction);
        console.log('Sent! Transaction ID:', console.log(response.id);
        // Poll this until the status is not "pending"
        while (result.status === "pending") {
          // See if the transaction is complete
          response = await server.getTransactionStatus(result.id);
          // Wait a second
          await new Promise(resolve => setTimeout(resolve, 1000));
        }
        console.log('Transaction status:', response.status);
        console.log(JSON.stringify(response.result));
      } catch (e) {
        console.log('An error has occured:');
        console.log(e);
      }
    })();
    **/


</script>
-->

</body>



</html>
